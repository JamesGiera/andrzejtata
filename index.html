<!DOCTYPE html>
<html lang="pl">
<head>
  <title>HUSTLERS TATA MOTORS</title>
  <!-- Google tag (gtag.js) -->
  <!-- Created by Bartlomiej Giera -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8TKXYGZP6G"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8TKXYGZP6G');
</script>
  <link rel="icon" type="image/x-icon" href="images.jpeg">
  <meta property="og:title" content="ANDRZEJ TATA"/>
  <meta name="theme-color" content="#34eb7d">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Jersey+15&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body background="andrew-tate-top-g.gif">
  <div id="endGameContainer">
    <p id="scoreContainer2" style="font-size: 50px;text-align: center;margin-bottom: 50px;"></p>
    <a href="https://andrzejtata.pl/"><button id="gameStartBtn" onclick="reset();">RESET</button></a>
    <p>created by BOGDAN</p>
  </div>
  <div id="startCount">
    <p id="countNumberConteiner"></p>
  </div>
  <div id="startContainer" class="hiddenOnMobile">
    <img src="andrzejtata_pl.png" alt="">
    <button id="gameStartBtn" onclick="gameStart();">START</button>
    <p>created by BOGDAN</p>
  </div>
<div class="hiddenOnPc">
  <div class="andrzejlogo">
    <img src="andrzejtata_pl.png" alt="">
  </div>
  <div class="forMobile">
    <p>Strona dostępna tylko na urządzeniach PC/Laptop</p>
    <p>strona w budowie*</p>
  </div>
</div>
<div id="hiddenOnMobile">
  <nav class="nav">
  <div class="andrzejlogo">
    <img src="andrzejtata_pl.png" alt="">
  </div>
  <div class="userScore">
    <p >record 1 258 929</p>
    <p id="scoreContainer">000000</p>
  </div>

</nav>

  <section style="display: flex;justify-content: center;align-items: center;">
    
    <div id="gameWindow">
      <div class="movementway">
          <div class="movingLimitSpace">
              <div id="userHero_AndrzejTata">
                <img src="strzalka_lewo.png" class="movementArrows" alt="" id="leftArrow">
                <img src="topG.png" id="topG" alt="" align="middle">
                <img src="strzalka_prawo3.png" class="movementArrows" alt="" id="rightArrow">
              </div>
          </div>
      </div>
    </div>
  </section>
</div>
<script>

  let speed;
  let boolean2 = true;
  let boolean3 = true;
  let i = 3000;
  var audio = new Audio('Tourner-Dans-Le-Vide-_Hardstyle_.mp3');
  function gameStart(){
    speed = 4;
    setTimeout(function(){
      objectCatch();
    },0)
    var countNumberConteiner = document.getElementById("countNumberConteiner");
    setTimeout(function(){
      countNumberConteiner.innerHTML = "3";
      setTimeout(function(){
        countNumberConteiner.innerHTML = "2";
        setTimeout(function(){
          countNumberConteiner.innerHTML = "1";
          setTimeout(function(){
            countNumberConteiner.innerHTML = "SIGMA";
            setTimeout(function(){
              countNumberConteiner.style.display="none";
            },600);
          },600);
        },600);
      },600);
    },600);
    document.getElementById("hiddenOnMobile").style.display = "block";
    document.getElementById("startContainer").style.display = "none";
    getscore();
    setInterval(() => {
      objectDraw();
      console.log(i+"i")
      i-=100;
      if(i<2500)
      {
        setTimeout(function(){
            objectDraw();
        },500);
      }
      if(i<2000)
      {
        speed = 5;
        setTimeout(function(){
            objectDraw();
        },500);
      }
      if(i<1000)
      {
        setTimeout(function(){
            objectDraw();
        },500);
      }
      if(i<500)
      {
        speed = 6;
        setTimeout(function(){
          objectDraw();
          objectDraw();
          setTimeout(function(){
              objectDraw();
              },500);
          },500);
      }
      if(i<-500)
        {
          speed = 7;
          setTimeout(function(){
            objectDraw();
            objectDraw();
            setTimeout(function(){
              objectDraw();
              },500);
          },1000);
        }
      if(i<-1500)
        {
          speed = 8;
        }
    }, 3000)   
    audio.play();
    audio.loop = true;
  }
  var body = document.querySelector("body");
  var lifeNumber = 12;
  var score2 = document.getElementById("scoreContainer2");
  var score = document.getElementById("scoreContainer");
  var points = 0;
  var topG =  document.getElementById("topG");
  var andrzejtata = document.getElementById("userHero_AndrzejTata");
  var leftArrow = document.getElementById("leftArrow");
  var rightArrow = document.getElementById("rightArrow");
  let gameWindow = document.getElementById("gameWindow");
  var pozycjaTransform = 0;
  var windowWidth = window.innerWidth;
  var windowHeight = window.innerHeight;

  window.addEventListener("resize",function() {
      windowWidth = window.innerWidth
      windowHeight = window.innerHeight;});

  if(windowWidth < 1700)
      windowWidth -= 100;

  var gameScreenWitdh = ((windowWidth/100)*60);
  var gameScreenHeight = ((windowWidth/100)*95);
  console.log(gameScreenHeight);

  leftArrow.addEventListener('click', function() {
    moveToLeft();
  });
  rightArrow.addEventListener('click', function() {
    moveToRight();
  });


  window.addEventListener('keydown', function(event) {
    rightArrow.style.opacity = "100%";
    leftArrow.style.opacity = "100%";
    if(boolean3 == true)
    {
      switch (event.keyCode) {
        case 65:
        case 37:  
          console.log("lewy");
          leftArrow.style.filter = "invert(80%)";
          moveToLeft();
          window.addEventListener('keyup', function(event) {
            if(event.keyCode == 65 || event.keyCode == 37)
            {
              leftArrow.style.filter = "invert(0%)";
            }
          });

        break;

        case 68:
        case 39:
        console.log("prawy");
        rightArrow.style.filter = "invert(80%)";
        moveToRight();
        window.addEventListener('keyup', function(event) {
            if(event.keyCode == 68 || event.keyCode == 39)
            {
              rightArrow.style.filter = "invert(0%)";
            }
          });
        break;
      }
  }
  }, false);

  let isMovingLeft = false;
  let isMovingRight = false;

  function moveToLeft() {
    if (!isMovingRight) {
        isMovingLeft = true;
        if (pozycjaTransform >= -((gameScreenWitdh / 2)+50)) {
            pozycjaTransform -= 25;
            andrzejtata.style.transform = "translateX(" + pozycjaTransform + "px)";
        } else {
            leftArrow.style.opacity = "0%";
        }
    }
  }

  function moveToRight() {
    if (!isMovingLeft) {
        isMovingRight = true;
        if (pozycjaTransform <= ((gameScreenWitdh / 2)+50)) {
            pozycjaTransform += 25;
            andrzejtata.style.transform = "translateX(" + pozycjaTransform + "px)";
        } else {
            rightArrow.style.opacity = "0%";
        }
    }
  }

  window.addEventListener('keyup', function(event) {
    rightArrow.style.opacity = "100%";
    leftArrow.style.opacity = "100%";
    switch (event.keyCode) {
      case 65:
      case 37:  
      isMovingLeft = false;

      break;

      case 68:
      case 39:
      isMovingRight = false;
      break;

      
    }
  }, false);
  
  function objectDraw(){
    const tab = ["kaska.png", "matrix.png", "podatki_sa_dla_bet.png", "kobiety_sigm.png"];
    let randomNumberToGetElementFromTab = Math.floor(Math.random() * tab.length);
    let randomPositionX = Math.floor(Math.random() * (gameScreenWitdh + (gameScreenWitdh/9)));
    let objectImgSrc = tab[randomNumberToGetElementFromTab];
    let object = document.createElement('img');
    object.src = objectImgSrc;
    object.className = "randomObjects";
    object.style.left = randomPositionX+"px";
    gameWindow.appendChild(object);
    console.log(randomPositionX);

    let startY = -windowHeight/8; 
    let tymczasowa;
    let tymczasowystring;

    function animate() {
        tymczasowystring = startY + "px";
        tymczasowa = startY;
        startY += speed; 
        object.style.top = startY + "px";    
        if(tymczasowa!=startY )
        {
          objectCatch();
        }

        if (startY < windowHeight) {
            requestAnimationFrame(animate); 
            objectCatch();
        } else {
              object.parentNode.removeChild(object);
        }
    }

    animate();
    function objectCatch(){
      const objectRect = object.getBoundingClientRect();
      const andrzejtataRect = topG.getBoundingClientRect();
      let boolean = false;
      if(boolean == false)
        {
      if (
          objectRect.right >= (andrzejtataRect.left+ 80) &&
          objectRect.left <= (andrzejtataRect.right- 80) &&
          objectRect.bottom >= (andrzejtataRect.top + 10) &&
          objectRect.top <= (andrzejtataRect.bottom - 10)
      ) {
        object.style.opacity = "0.7";
        console.log(object.src);
        
        if(randomNumberToGetElementFromTab != 1 && randomNumberToGetElementFromTab != 2 && randomNumberToGetElementFromTab != 4)
        {
          console.log(object.src);
          object.src = "get_point.png";

          points += 125;
          score.style.color = "lightgreen";
          getscore();
          topG.src = "szczesliwyandrzej.png";
          
        }
          else{
          object.src = "loss-point.png";
          lifeNumber -= 100;
          console.log(lifeNumber);
          points -= 150;
          getscore();
          topG.src = "smutnyandrzej.png";
          if(lifeNumber<0)
          {
            setTimeout(function(){
              gameWindow.style.display="none"
            },1000)
            document.getElementById("endGameContainer").style.display = "block"
            boolean3 = false;
            body.parentNode.removeChild(gameWindow);
            audio.pause();
          }

        }
        setTimeout(function(){
            topG.src = "topG.png"
            score.style.color = "white";
          },500)
        
      }
        boolean=true;
      }
      }
  }
  function getscore(){
    let displayPoints;
    if (points >= 0) {
    displayPoints = "0000" + points;
    } else {
        displayPoints = "-000" + Math.abs(points);
    }
    score2.innerHTML = displayPoints;
    score.innerHTML = displayPoints;
  }
</script>
</body>
</html>
